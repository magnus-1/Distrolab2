@using community.Models @using community.Models.ViewModels.ReadMessageViewModels 
@model community.Models.ViewModels.ReadMessageViewModels.ReadInboxVM 
@{ Layout = "~/Views/Shared/_Layout.cshtml"; }

 @foreach (var from in Model.incomingFrom ) {
   
}

<table class="table">
<tr>
    <th>From</th>
    <th>Unread Messages</th> 
    <th>Sender Id</th>
  </tr>

	@foreach (var from in Model.incomingFrom ) {

	<tr>
		<td>
			@Html.DisplayFor(modelMsg => from.senderName)
		</td>
		<td>
			@Html.DisplayFor(modelMsg => from.recevedCount)
		</td>
		<td>
			@Html.DisplayFor(modelMsg => from.senderId)
		</td>
	<td>
		<form asp-controller="ReadMessages" asp-action="ReadFromSender" method="post">
			<input asp-for="picked" value="@from.senderId" hidden/>
			<button type="submit">check it out</button>
		</form>


		</td>
	</tr>

	}
</table>

<form id="ReadAllMessages" action="/ReadMessages/ReadAllMessages" method="post" class="form-horizontal">
	<button type="submit" class="btn btn-default">Show all messages</button>
</form>

